<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SnitchX Premium Store</title>
<style>
  /* Reset */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin:0; padding:0; background:#f4f4f4; color:#333;
  }
  header {
    background: #222;
    color: white;
    padding: 15px 20px;
    text-align: center;
  }
  h1 {
    margin: 0;
    font-weight: 700;
  }
  nav {
    background: #444;
    display: flex;
    justify-content: center;
    gap: 15px;
  }
  nav button {
    background: #666;
    border: none;
    color: white;
    padding: 10px 20px;
    cursor: pointer;
    font-weight: 600;
    border-radius: 4px;
    transition: background 0.3s ease;
  }
  nav button.active,
  nav button:hover {
    background: #e91e63;
  }
  main {
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 20px 40px 20px;
  }
  .products {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
    gap: 20px;
  }
  .product-card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgb(0 0 0 / 0.1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .product-card img {
    width: 100%;
    height: 280px;
    object-fit: cover;
  }
  .product-info {
    padding: 15px;
  }
  .product-info h3 {
    margin: 0 0 8px 0;
    font-weight: 600;
    font-size: 1.1rem;
  }
  .product-info p {
    margin: 0 0 12px 0;
    font-weight: 700;
    color: #e91e63;
    font-size: 1.2rem;
  }
  .product-info button {
    background: #e91e63;
    border: none;
    color: white;
    padding: 10px;
    font-weight: 700;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    transition: background 0.3s ease;
  }
  .product-info button:hover {
    background: #c2185b;
  }
  #cart-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #e91e63;
    border: none;
    color: white;
    padding: 15px 20px;
    border-radius: 50px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(233,30,99,0.7);
    z-index: 1000;
  }
  #cart-count {
    background: #fff;
    color: #e91e63;
    font-weight: 700;
    border-radius: 50%;
    padding: 3px 8px;
    font-size: 0.9rem;
    position: absolute;
    top: 8px;
    right: 8px;
  }

  /* Cart Modal */
  #cart-modal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
    z-index: 2000;
  }
  #cart-modal.active {
    display: flex;
  }
  .cart-content {
    background: white;
    width: 90%;
    max-width: 700px;
    max-height: 80vh;
    border-radius: 8px;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
  }
  .cart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .cart-header h2 {
    margin: 0;
  }
  .close-cart {
    font-size: 1.5rem;
    background: none;
    border: none;
    cursor: pointer;
  }
  .cart-items {
    margin-top: 15px;
    flex-grow: 1;
  }
  .cart-item {
    display: flex;
    gap: 15px;
    border-bottom: 1px solid #ccc;
    padding-bottom: 15px;
    margin-bottom: 15px;
    align-items: center;
  }
  .cart-item img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 6px;
  }
  .cart-item-details {
    flex-grow: 1;
  }
  .cart-item-details h4 {
    margin: 0 0 5px 0;
  }
  .cart-item-details p {
    margin: 0 0 5px 0;
    font-weight: 700;
    color: #e91e63;
  }
  .cart-item-qty {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .cart-item-qty button {
    background: #e91e63;
    color: white;
    border: none;
    padding: 4px 9px;
    cursor: pointer;
    font-weight: 700;
    border-radius: 4px;
  }
  .cart-total {
    font-weight: 700;
    font-size: 1.3rem;
    text-align: right;
    margin-top: auto;
    color: #e91e63;
  }
  #checkout-btn {
    background: #e91e63;
    border: none;
    color: white;
    padding: 15px;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    margin-top: 20px;
    border-radius: 6px;
  }
  #checkout-btn:hover {
    background: #c2185b;
  }

  @media (max-width: 600px) {
    nav {
      flex-wrap: wrap;
    }
    .product-card img {
      height: 220px;
    }
    .cart-item {
      flex-direction: column;
      align-items: flex-start;
    }
    .cart-item img {
      width: 100%;
      height: auto;
    }
    .cart-item-qty {
      margin-top: 10px;
    }
  }
</style>
</head>
<body>

<header>
  <h1>SnitchX Premium Store</h1>
</header>

<nav>
  <button class="category-btn active" data-cat="shoes">Shoes</button>
  <button class="category-btn" data-cat="watches">Watches</button>
  <button class="category-btn" data-cat="clothes">Clothes</button>
  <button class="category-btn" data-cat="specs">Specs</button>
  <button class="category-btn" data-cat="perfumes">Perfumes</button>
</nav>

<main>
  <div class="products" id="products-container"></div>
</main>

<button id="cart-btn">Cart <span id="cart-count">0</span></button>

<div id="cart-modal">
  <div class="cart-content">
    <div class="cart-header">
      <h2>Your Cart</h2>
      <button class="close-cart" id="close-cart">&times;</button>
    </div>
    <div class="cart-items" id="cart-items"></div>
    <div class="cart-total" id="cart-total"></div>
    <button id="checkout-btn">Checkout via WhatsApp</button>
  </div>
</div>

<script>
  const categories = ['shoes', 'watches', 'clothes', 'specs', 'perfumes'];

  // Generate products with random price 1200 - 20000
  function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function generateProducts(category, count) {
    const products = [];
    for(let i=1; i<=count; i++) {
      const price = randInt(1200, 20000);
      products.push({
        id: `${category}-${i}`,
        name: `${category.charAt(0).toUpperCase() + category.slice(1)} Product #${i}`,
        price: price,
        img: `https://via.placeholder.com/300x375.png?text=${encodeURIComponent(category.charAt(0).toUpperCase() + " "+ i)}`
      });
    }
    return products;
  }

  const allProducts = {};
  // generate 150 products per category max, you can reduce count per category if needed
  categories.forEach(cat => {
    allProducts[cat] = generateProducts(cat, 150);
  });

  let currentCategory = 'shoes';

  const productsContainer = document.getElementById('products-container');

  function showProducts(cat) {
    productsContainer.innerHTML = '';
    const prods = allProducts[cat];
    prods.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${p.img}" alt="${p.name}" />
        <div class="product-info">
          <h3>${p.name}</h3>
          <p>₹${p.price.toLocaleString()}</p>
          <button data-id="${p.id}" data-name="${p.name}" data-price="${p.price}" data-img="${p.img}">Add to Cart</button>
        </div>
      `;
      productsContainer.appendChild(card);
    });
  }

  // Initial products load
  showProducts(currentCategory);

  // Category buttons event
  const catButtons = document.querySelectorAll('.category-btn');
  catButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      catButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentCategory = btn.getAttribute('data-cat');
      showProducts(currentCategory);
    });
  });

  // Cart logic
  let cart = JSON.parse(localStorage.getItem('snitchx-cart')) || [];

  const cartBtn = document.getElementById('cart-btn');
  const cartCount = document.getElementById('cart-count');
  const cartModal = document.getElementById('cart-modal');
  const closeCartBtn = document.getElementById('close-cart');
  const cartItemsContainer = document.getElementById('cart-items');
  const cartTotalEl = document.getElementById('cart-total');
  const checkoutBtn = document.getElementById('checkout-btn');

  function updateCartCount() {
    const totalItems = cart.reduce((acc, item) => acc + item.qty, 0);
    cartCount.textContent = totalItems;
  }

  function saveCart() {
    localStorage.setItem('snitchx-cart', JSON.stringify(cart));
    updateCartCount();
  }

  function renderCart() {
    cartItemsContainer.innerHTML = '';
    if(cart.length === 0) {
      cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
      cartTotalEl.textContent = '';
      checkoutBtn.style.display = 'none';
      return;
    }
    checkoutBtn.style.display = 'block';

    cart.forEach(item => {
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <img src="${item.img}" alt="${item.name}" />
        <div class="cart-item-details">
          <h4>${item.name}</h4>
          <p>₹${item.price.toLocaleString()}</p>
          <div class="cart-item-qty">
            <button class="dec" data-id="${item.id}">-</button>
            <span>${item.qty}</span>
            <button class="inc" data-id="${item.id}">+</button>
          </div>
        </div>
      `;
      cartItemsContainer.appendChild(div);
    });

    const totalPrice = cart.reduce((acc, item) => acc + item.price * item.qty, 0);
    cartTotalEl.textContent = `Total: ₹${totalPrice.toLocaleString()}`;
  }

  function addToCart(product) {
    const index = cart.findIndex(i => i.id === product.id);
    if(index === -1) {
      cart.push({...product, qty: 1});
    } else {
      cart[index].qty++;
    }
    saveCart();
  }

  productsContainer.addEventListener('click', e => {
    if(e.target.tagName === 'BUTTON' && e.target.textContent === 'Add to Cart') {
      const btn = e.target;
      const prod = {
        id: btn.getAttribute('data-id'),
        name: btn.getAttribute('data-name'),
        price: parseInt(btn.getAttribute('data-price')),
        img: btn.getAttribute('data-img'),
      };
      addToCart(prod);
      alert(`${prod.name} added to cart.`);
    }
  });

  cartBtn.addEventListener('click', () => {
    renderCart();
    cartModal.classList.add('active');
  });

  closeCartBtn.addEventListener('click', () => {
    cartModal.classList.remove('active');
  });

  cartItemsContainer.addEventListener('click', e => {
    if(e.target.tagName === 'BUTTON') {
      const id = e.target.getAttribute('data-id');
      const idx = cart.findIndex(i => i.id === id);
      if(idx !== -1) {
        if(e.target.classList.contains('inc')) {
          cart[idx].qty++;
        } else if(e.target.classList.contains('dec')) {
          cart[idx].qty--;
          if(cart[idx].qty <= 0) {
            cart.splice(idx,1);
          }
        }
        saveCart();
        renderCart();
      }
    }
  });

  checkoutBtn.addEventListener('click', () => {
    if(cart.length === 0) return alert('Cart is empty.');

    // Prepare WhatsApp message
    let message = `*SnitchX Store Order*%0A`;
    cart.forEach(item => {
      message += `${item.name} - Qty: ${item.qty} - ₹${(item.price*item.qty).toLocaleString()}%0A`;
    });
    const totalPrice = cart.reduce((acc, item) => acc + item.price * item.qty, 0);
    message += `*Total Price:* ₹${totalPrice.toLocaleString()}%0A`;
    message += `%0A*Please provide your delivery details here.*`;

    // WhatsApp number - replace below with your WhatsApp number (country code+number)
    const whatsappNumber = "91XXXXXXXXXX";

    const waUrl = `https://wa.me/${whatsappNumber}?text=${message}`;
    window.open(waUrl, '_blank');
  });

  // Initialize cart count on load
  updateCartCount();

</script>

</body>
  </html>
